(this["webpackJsonpperlin-dots"]=this["webpackJsonpperlin-dots"]||[]).push([[0],{14:function(t,e,n){},16:function(t,e,n){},17:function(t,e,n){"use strict";n.r(e);var o=n(1),c=n.n(o),a=n(7),i=n.n(a),r=(n(14),n(3)),s=n(9),l=n(2);var u=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{xDots:10,yDots:10,width:100,height:100},e=t.xDots,n=t.yDots,o=t.width,c=t.height,a=[],i=0;i<=e;i++)for(var r=0;r<=n;r++)a.push({x:o*i/e,y:c*r/n,z:0,h:260,s:0,l:50,size:2});return a},d=n(8),h=n.n(d),f=n(0);function x(t){var e=t.density,n=t.width,c=t.height,a=t.zMax,i=e*n/100,d=e*c/100,x={noiseMap:new h.a.Noise(Math.random()),xoff:0,yoff:0,dots:u({xDots:i,yDots:d,width:n,height:c})},b=Object(o.useReducer)((function(t,e){var o=t;switch(e.type){case"UPDATE_DOTS":return(o=Object(l.a)({},t)).dots=Object(s.a)(o.dots).map((function(e){var n=a*t.noiseMap.simplex2((e.x+t.xoff)/100,(e.y+t.yoff)/100);return Object(l.a)(Object(l.a)({},e),{},{z:n,l:Math.floor(50*(n+a)/a),size:t.noiseMap.simplex2(e.y/100,e.x/100)+2})})),o.xoff=t.xoff+1,o.yoff=t.yoff+1,o;case"NEW_DOTS":return(o=Object(l.a)({},t)).dots=u({xDots:i,yDots:d,width:n,height:c}),o;default:return t}}),x),p=Object(r.a)(b,2),j=p[0],O=p[1],g=Object(o.useRef)(),m=Object(o.useRef)(),v=Object(o.useCallback)((function(t){void 0!==m.current&&O({type:"UPDATE_DOTS"}),m.current=t,g.current=requestAnimationFrame(v)}),[]);return Object(o.useEffect)((function(){return g.current=requestAnimationFrame(v),function(){return cancelAnimationFrame(g.current)}}),[v]),Object(o.useEffect)((function(){O({type:"NEW_DOTS"})}),[t.width]),Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:"perlin-frame",style:{position:"relative",width:"".concat(1.8*n,"px"),backgroundColor:"black",boxShadow:"0 0 50px 50px black",overflow:"hidden",zIndex:"-1"},children:[Object(f.jsx)("div",{className:"dot-container",style:{position:"relative",margin:"1rem auto",perspective:"".concat(n,"px"),width:"".concat(n,"px"),height:"".concat(c,"px")},children:Object(f.jsx)("div",{className:"dot plane",style:{position:"absolute",top:"0",left:"0",width:"100%",height:"100%",transform:"rotate3d(1, 0, 0, 65deg) translateZ(".concat(c/3,"px) translateY(").concat(c/2,"px)"),transformStyle:"preserve-3d",zIndex:"0"},children:j.dots.length>0&&j.dots.map((function(t,e){return Object(f.jsx)("div",{className:"dot",style:{position:"absolute",left:t.x,top:t.y,backgroundColor:"hsl(".concat(t.h,", 50%, ").concat(t.l,"%)"),boxShadow:"0 0 ".concat(t.size+1,"px 1px hsl(").concat(t.h,", 75%, ").concat(t.l,"%)"),width:"".concat(t.size,"px"),height:"".concat(t.size,"px"),borderRadius:"50%",transform:"translateZ(".concat(t.z,"px)"),transformStyle:"preserve-3d"}},"dot-".concat(e))}))})}),Object(f.jsx)("div",{style:{position:"absolute",top:"0",left:"0",width:"100%",height:"100%",backgroundImage:"linear-gradient(to right, black 0, transparent 10%, transparent 90%, black 100%",zIndex:"2"}})]})})}x.defaultProps={density:5,width:600,height:300,zMax:12};var b=x;var p=function(t){var e=Object(o.useState)({context:null,oscillator:null,gain:null}),n=Object(r.a)(e,2),c=n[0],a=n[1],i=function(){a(Object(l.a)(Object(l.a)({},c),{},{context:new AudioContext}))},s=function(){c.context.stop(0),a(Object(l.a)(Object(l.a)({},c),{},{context:null}))};return Object(o.useEffect)((function(){if(null!==c.context){var t=c.context,e=t.createOscillator(),n=t.createGain();e.connect(n),e.frequency.value=216,e.frequency.linearRampToValueAtTime(432,t.currentTime+2),n.connect(t.destination),n.gain.value=.1,e.start(0),e.stop(3)}}),[c.context]),Object(f.jsx)("button",{onClick:function(){null===c.context?i():s()},children:"play sound"})};n(16);var j=function(){var t=Object(o.useState)(window.innerWidth/2),e=Object(r.a)(t,2),n=e[0],c=e[1],a=Object(o.useState)(),i=Object(r.a)(a,2),s=i[0],l=i[1];return window.onresize=function(){window.innerWidth<1200&&c(window.innerWidth/2)},Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("h1",{children:"Perlin Noise Landscape"}),Object(f.jsx)(b,{width:n,setNoise:l}),Object(f.jsx)(p,{noise:s})]})},O=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,18)).then((function(e){var n=e.getCLS,o=e.getFID,c=e.getFCP,a=e.getLCP,i=e.getTTFB;n(t),o(t),c(t),a(t),i(t)}))};i.a.render(Object(f.jsx)(c.a.StrictMode,{children:Object(f.jsx)(j,{})}),document.getElementById("root")),O()}},[[17,1,2]]]);
//# sourceMappingURL=main.3abad9ee.chunk.js.map