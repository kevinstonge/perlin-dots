(this["webpackJsonpperlin-dots"]=this["webpackJsonpperlin-dots"]||[]).push([[0],{14:function(t,e,n){},16:function(t,e,n){},17:function(t,e,n){"use strict";n.r(e);var o=n(1),i=n.n(o),a=n(7),c=n.n(a),r=(n(14),n(4)),s=n(9),d=n(2);var h=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{xDots:10,yDots:10,width:100,height:100},e=t.xDots,n=t.yDots,o=t.width,i=t.height,a=[],c=0;c<=e;c++)for(var r=0;r<=n;r++)a.push({x:o*c/e,y:i*r/n,z:0,h:260,s:50,l:50,size:2});return a},l=n(8),u=n.n(l),f=n(0);function p(t){var e=t.density,n=t.width,i=t.height,a=t.zMax,c=e*n/100,l=e*i/100,p={noiseMap:new u.a.Noise(Math.random()),xoff:0,yoff:0,dots:h({xDots:c,yDots:l,width:n,height:i}),yRot:0,xRot:65},x=Object(o.useReducer)((function(t,e){var o=t;switch(e.type){case"UPDATE_DOTS":return(o=Object(d.a)({},t)).dots=Object(s.a)(o.dots).map((function(e){var n=a*t.noiseMap.simplex2((e.x+t.xoff)/100,(e.y+t.yoff)/100);return Object(d.a)(Object(d.a)({},e),{},{z:n,l:Math.floor(50*(n+a)/a),size:t.noiseMap.simplex2(e.y/100,e.x/100)+2})})),o.xoff=t.xoff+1,o.yoff=t.yoff+1,o;case"NEW_DOTS":return(o=Object(d.a)({},t)).dots=h({xDots:c,yDots:l,width:n,height:i}),o;case"CHANGE_ROTATION":return(o=Object(d.a)({},t)).yRot=e.payload.yRot,o.xRot=e.payload.xRot,o;default:return t}}),p),b=Object(r.a)(x,2),j=b[0],O=b[1],w=Object(o.useRef)(),y=Object(o.useRef)(),g=Object(o.useCallback)((function(t){void 0!==y.current&&O({type:"UPDATE_DOTS"}),y.current=t,w.current=requestAnimationFrame(g)}),[]);return Object(o.useEffect)((function(){return w.current=requestAnimationFrame(g),function(){return cancelAnimationFrame(w.current)}}),[g]),Object(o.useEffect)((function(){O({type:"NEW_DOTS"})}),[t.width]),Object(o.useEffect)((function(){window.addEventListener("mousemove",(function(t){var e=40*(t.clientX/window.innerWidth)-20,n=t.clientY/window.innerHeight;O({type:"CHANGE_ROTATION",payload:{yRot:e,xRot:-10*n+70}})}))}),[]),Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:"perlin-frame",style:{position:"relative",width:"".concat(1.8*n,"px"),backgroundColor:"black",boxShadow:"0 0 50px 50px black",overflow:"hidden",zIndex:"-1"},children:[Object(f.jsx)("div",{className:"dot-container",style:{position:"relative",margin:"1rem auto",perspective:"".concat(n,"px"),width:"".concat(n,"px"),height:"".concat(i,"px")},children:Object(f.jsx)("div",{className:"dot plane",style:{position:"absolute",top:"0",left:"0",width:"100%",height:"100%",transform:"rotateY(".concat(j.yRot,"deg) rotateX(").concat(j.xRot,"deg) translateZ(").concat(i/3,"px) translateY(").concat(i/2,"px)"),transformStyle:"preserve-3d",zIndex:"0"},children:j.dots.length>0&&j.dots.map((function(t,e){return Object(f.jsx)("div",{className:"dot",style:{position:"absolute",left:t.x,top:t.y,backgroundColor:"hsl(".concat(t.h,", 50%, ").concat(t.l,"%)"),boxShadow:"0 0 ".concat(t.size+1,"px 1px hsl(").concat(t.h,", 75%, ").concat(t.l,"%)"),width:"".concat(t.size,"px"),height:"".concat(t.size,"px"),borderRadius:"50%",transform:"translateZ(".concat(t.z,"px)"),transformStyle:"preserve-3d"}},"dot-".concat(e))}))})}),Object(f.jsx)("div",{style:{position:"absolute",top:"0",left:"0",width:"100%",height:"100%",backgroundImage:"linear-gradient(to right, black 0, transparent 10%, transparent 90%, black 100%",zIndex:"2"}})]})})}p.defaultProps={density:2,width:600,height:300,zMax:12};var x=p;n(16);var b=function(){var t=Object(o.useState)(window.innerWidth/2),e=Object(r.a)(t,2),n=e[0],i=e[1],a=Object(o.useState)(),c=Object(r.a)(a,2),s=(c[0],c[1]);return window.onresize=function(){window.innerWidth<1200&&i(window.innerWidth/2)},Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("h1",{children:"Perlin Noise Landscape"}),Object(f.jsx)(x,{width:n,setNoise:s})]})},j=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,18)).then((function(e){var n=e.getCLS,o=e.getFID,i=e.getFCP,a=e.getLCP,c=e.getTTFB;n(t),o(t),i(t),a(t),c(t)}))};c.a.render(Object(f.jsx)(i.a.StrictMode,{children:Object(f.jsx)(b,{})}),document.getElementById("root")),j()}},[[17,1,2]]]);
//# sourceMappingURL=main.1201b349.chunk.js.map