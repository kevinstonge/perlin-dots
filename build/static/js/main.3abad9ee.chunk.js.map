{"version":3,"sources":["accessories/generateDots.js","components/Perlin.js","components/Sound.js","App.js","reportWebVitals.js","index.js"],"names":["generateDots","options","xDots","yDots","width","height","dots","x","y","push","z","h","s","l","size","Perlin","props","density","zMax","initialState","noiseMap","noise","Noise","Math","random","xoff","yoff","useReducer","state","action","newState","type","map","dot","simplex2","floor","dispatch","requestRef","useRef","previousTimeRef","animate","useCallback","time","undefined","current","requestAnimationFrame","useEffect","cancelAnimationFrame","className","style","position","backgroundColor","boxShadow","overflow","zIndex","margin","perspective","top","left","transform","transformStyle","length","index","borderRadius","backgroundImage","defaultProps","Sound","useState","context","oscillator","gain","setState","playSound","AudioContext","pauseSound","stop","createOscillator","createGain","connect","frequency","value","linearRampToValueAtTime","currentTime","destination","start","onClick","App","window","innerWidth","setWidth","setNoise","onresize","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.3abad9ee.chunk.js","sourcesContent":["function generateDots(options = { xDots: 10, yDots: 10, width: 100, height: 100}) {\r\n    const { xDots, yDots, width, height } = options;\r\n    const dots = [];\r\n    for (let x = 0; x <= xDots; x++) {\r\n        for (let y = 0; y <= yDots; y++) {\r\n            dots.push({x: width*x/xDots, y: height*y/yDots, z:0, h: 260, s:0, l:50, size: 2});\r\n        }\r\n    }\r\n    return dots;\r\n}\r\nexport default generateDots;","import { useEffect, useRef, useReducer, useCallback } from \"react\";\r\nimport generateDots from \"../accessories/generateDots.js\";\r\nimport noise from \"noisejs\";\r\nfunction Perlin(props) {\r\n  const { density, width, height, zMax } = props;\r\n  const xDots = (density * width) / 100;\r\n  const yDots = (density * height) / 100;\r\n  const initialState = {\r\n    noiseMap: new noise.Noise(Math.random()),\r\n    xoff: 0,\r\n    yoff: 0,\r\n    dots: generateDots({ xDots, yDots, width, height }),\r\n  };\r\n  const reducer = (state, action) => {\r\n    let newState = state;\r\n    switch (action.type) {\r\n      case \"UPDATE_DOTS\":\r\n        newState = { ...state };\r\n        newState.dots = [...newState.dots].map((dot) => {\r\n          const z =\r\n            zMax *\r\n            state.noiseMap.simplex2(\r\n              (dot.x + state.xoff) / 100,\r\n              (dot.y + state.yoff) / 100\r\n            );\r\n          return {\r\n            ...dot,\r\n            z,\r\n            l: Math.floor((50 * (z + zMax)) / zMax),\r\n            size: (state.noiseMap.simplex2(dot.y / 100, dot.x / 100) + 2),\r\n          };\r\n        });\r\n        newState.xoff = state.xoff + 1;\r\n        newState.yoff = state.yoff + 1;\r\n        return newState;\r\n      case \"NEW_DOTS\":\r\n        newState = { ...state };\r\n        newState.dots = generateDots({ xDots, yDots, width, height });\r\n        return newState;\r\n      default:\r\n        return state;\r\n    }\r\n  };\r\n  const [state, dispatch] = useReducer(reducer, initialState);\r\n  const requestRef = useRef();\r\n  const previousTimeRef = useRef();\r\n\r\n  const animate = useCallback((time) => {\r\n    if (previousTimeRef.current !== undefined) {\r\n      dispatch({ type: \"UPDATE_DOTS\" });\r\n    }\r\n    previousTimeRef.current = time;\r\n    requestRef.current = requestAnimationFrame(animate);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    requestRef.current = requestAnimationFrame(animate);\r\n    return () => cancelAnimationFrame(requestRef.current);\r\n  }, [animate]);\r\n  useEffect(() => {\r\n    dispatch({ type: \"NEW_DOTS\" });\r\n  },[props.width])\r\n  return (\r\n    <>\r\n    <div\r\n      className=\"perlin-frame\"\r\n      style={{\r\n        position: 'relative',\r\n        width:`${width*1.8}px`,\r\n        backgroundColor: \"black\",\r\n        boxShadow: \"0 0 50px 50px black\",\r\n        overflow: \"hidden\",\r\n        zIndex: \"-1\",\r\n      }}\r\n    >\r\n      <div\r\n        className=\"dot-container\"\r\n        style={{\r\n          position: \"relative\",\r\n          margin: \"1rem auto\",\r\n          perspective: `${width}px`,\r\n          width: `${width}px`,\r\n          height: `${height}px`,\r\n        }}\r\n      >\r\n        <div\r\n          className=\"dot plane\"\r\n          style={{\r\n            position: \"absolute\",\r\n            top: \"0\",\r\n            left: \"0\",\r\n            width: \"100%\",\r\n            height: \"100%\",\r\n            transform: `rotate3d(1, 0, 0, 65deg) translateZ(${height / 3}px) translateY(${height/2}px)`,\r\n            transformStyle: \"preserve-3d\",\r\n            zIndex: \"0\"\r\n          }}\r\n        >\r\n          {state.dots.length > 0 &&\r\n            state.dots.map((dot, index) => {\r\n              return (\r\n                <div\r\n                  className=\"dot\"\r\n                  key={`dot-${index}`}\r\n                  style={{\r\n                    position: \"absolute\",\r\n                    left: dot.x,\r\n                    top: dot.y,\r\n                    backgroundColor: `hsl(${dot.h}, 50%, ${dot.l}%)`,\r\n                    boxShadow: `0 0 ${dot.size+1}px 1px hsl(${dot.h}, 75%, ${dot.l}%)`,\r\n                    width: `${dot.size}px`,\r\n                    height: `${dot.size}px`,\r\n                    borderRadius: \"50%\",\r\n                    transform: `translateZ(${dot.z}px)`,\r\n                    transformStyle: \"preserve-3d\"\r\n                  }}\r\n                ></div>\r\n              );\r\n            })}\r\n        </div>\r\n      </div>\r\n      <div\r\n        style={{\r\n          position: \"absolute\",\r\n          top: \"0\",\r\n          left: \"0\",\r\n          width: \"100%\",\r\n          height: \"100%\",\r\n          backgroundImage: \"linear-gradient(to right, black 0, transparent 10%, transparent 90%, black 100%\",\r\n          zIndex: \"2\"\r\n        }}\r\n      >\r\n        </div>\r\n      </div>\r\n      </>\r\n  );\r\n}\r\nPerlin.defaultProps = {\r\n  density: 5,\r\n  width: 600,\r\n  height: 300,\r\n  zMax: 12,\r\n};\r\nexport default Perlin;\r\n","import { useState, useEffect } from \"react\";\r\nfunction Sound(props) {\r\n    const [state, setState] = useState({\r\n        context: null,\r\n        oscillator: null,\r\n        gain: null,\r\n    })\r\n    const playPauseHandler = () => {\r\n        (state.context === null) ? playSound() : pauseSound();\r\n    }\r\n    const playSound = () => {\r\n        setState({ ...state, context: new AudioContext() });\r\n    }\r\n    const pauseSound = () => {\r\n        state.context.stop(0);\r\n        setState({...state, context: null})\r\n    }\r\n    useEffect(() => {\r\n        if (state.context !== null) {\r\n            const context = state.context;\r\n            const oscillator = context.createOscillator();\r\n            const gain = context.createGain();\r\n            oscillator.connect(gain);\r\n            oscillator.frequency.value = 432 / 2;\r\n            oscillator.frequency.linearRampToValueAtTime(432, context.currentTime + 2);\r\n            gain.connect(context.destination);\r\n            gain.gain.value = 0.1;\r\n            // oscillator.type = \"sawtooth\";\r\n            oscillator.start(0);\r\n            oscillator.stop(3);\r\n        }\r\n    },[state.context])\r\n    return (\r\n        <button onClick={()=>playPauseHandler()}>play sound</button>\r\n    );\r\n}\r\nexport default Sound;","import Perlin from \"./components/Perlin.js\";\r\nimport Sound from \"./components/Sound.js\";\r\nimport { useState } from \"react\";\r\nimport \"./App.css\";\r\nfunction App() {\r\n  const [width, setWidth] = useState(window.innerWidth / 2);\r\n  const [noise, setNoise] = useState();\r\n  window.onresize = () => {\r\n    window.innerWidth < 1200 &&  setWidth(window.innerWidth / 2);\r\n  };\r\n  return (\r\n    <>\r\n      {/* <Perlin {...{ density: 6, width: 800, height: 800 }}/> */}\r\n      <h1>Perlin Noise Landscape</h1>\r\n      <Perlin width={width} setNoise={setNoise}/>\r\n      <Sound noise={noise}/>\r\n    </>\r\n  );\r\n}\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}